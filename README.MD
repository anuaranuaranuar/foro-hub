# Foro Hub API

API REST construida con **Spring Boot** para gestionar usuarios, autenticaciÃ³n y tÃ³picos de un foro.  
La especificaciÃ³n estÃ¡ documentada en OpenAPI 3.1.0 y expuesta vÃ­a **Swagger UI**.

## ğŸ“Œ Requisitos previos

- **Java 17** o superior
- **Maven** 3.8+
- **Spring Boot** 3.x
- Base de datos compatible con JPA/Hibernate (por ejemplo, MySQL o PostgreSQL)
- **Swagger/OpenAPI** habilitado (`springdoc-openapi`)

---

## ğŸš€ Endpoints principales

### ğŸ”‘ AutenticaciÃ³n
| MÃ©todo | URL     | DescripciÃ³n |
|--------|---------|-------------|
| `POST` | `/login` | Autenticar usuario y devolver un token JWT |

**Request Body**:
```json
{
  "nombre": "string",
  "correoElectronico": "string",
  "contrasena": "string"
}
```

**Response**:
```json
{
  "DatosToken": "jwt_token_aqui"
}
```

---

### ğŸ‘¤ Usuarios
| MÃ©todo | URL        | DescripciÃ³n |
|--------|------------|-------------|
| `POST` | `/usuarios` | Registrar nuevo usuario |

**Request Body**:
```json
{
  "nombre": "string",
  "correoElectronico": "string",
  "contrasena": "string"
}
```

---

### ğŸ’¬ TÃ³picos
#### Listar
| MÃ©todo | URL        | DescripciÃ³n |
|--------|------------|-------------|
| `GET`  | `/topicos` | Listar tÃ³picos con paginaciÃ³n y filtros |

**ParÃ¡metros opcionales**:
- `curso` (string)
- `year` (int)
- `pageable` (objeto con `page`, `size`, `sort`)

#### Crear
| MÃ©todo | URL        | DescripciÃ³n |
|--------|------------|-------------|
| `POST` | `/topicos` | Crear un nuevo tÃ³pico |

**Request Body**:
```json
{
  "titulo": "string",
  "mensaje": "string",
  "autor": 1,
  "curso": 1
}
```

#### Obtener por ID
| MÃ©todo | URL             | DescripciÃ³n |
|--------|-----------------|-------------|
| `GET`  | `/topicos/{id}` | Obtener un tÃ³pico por su ID |

#### Actualizar
| MÃ©todo | URL             | DescripciÃ³n |
|--------|-----------------|-------------|
| `PUT`  | `/topicos/{id}` | Actualizar tÃ­tulo y mensaje |

#### Deshabilitar
| MÃ©todo | URL              | DescripciÃ³n |
|--------|------------------|-------------|
| `PATCH`| `/topicos/{id}`  | Deshabilitar un tÃ³pico |

---

## ğŸ” AutenticaciÃ³n JWT
La mayorÃ­a de los endpoints requieren un **token JWT** en el header:

```
Authorization: Bearer <token>
```

El token se obtiene al hacer `POST /login`.

---

## ğŸ“„ DocumentaciÃ³n Swagger
Una vez levantada la aplicaciÃ³n, la documentaciÃ³n interactiva estÃ¡ disponible en:

- **Swagger UI**: `http://localhost:8081/swagger-ui/index.html`
- **OpenAPI JSON**: `http://localhost:8081/v3/api-docs`

---

## ğŸ›  EjecuciÃ³n local
```bash
# Compilar y empaquetar
mvn clean install

# Ejecutar
mvn spring-boot:run
```

---

## ğŸ“‚ Estructura bÃ¡sica del proyecto
```
src/main/java/com/tuempresa/foro
    â”œâ”€â”€ config/        # ConfiguraciÃ³n de seguridad y beans
    â”œâ”€â”€ controllers/   # Controladores REST
    â”œâ”€â”€ dto/           # Objetos de transferencia de datos
    â”œâ”€â”€ entities/      # Entidades JPA
    â”œâ”€â”€ repository/    # Repositorios Spring Data JPA
    â”œâ”€â”€ security/      # Filtros y utilidades JWT
    â””â”€â”€ services/      # LÃ³gica de negocio
```

---

## âœ¨ Notas
- Endpoints pÃºblicos: `/usuarios`, `/login`, `/swagger-ui/**`, `/v3/api-docs/**`
- Endpoints protegidos requieren JWT vÃ¡lido
- ContraseÃ±as almacenadas con **BCrypt**